---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import ServiceCard from '../components/ServiceCard.astro';
import TestimonialCard from '../components/TestimonialCard.astro';
import LeadMagnetCTA from '../components/LeadMagnetCTA.astro';
import { pagesSEO } from '../utils/seo';
import { getOrganizationSchema, getWebSiteSchema, getPersonSchema } from '../utils/schema';

import servicesData from '../data/services.json';
import testimonialsData from '../data/testimonials.json';

const seo = pagesSEO.home;
const services = servicesData.services;
const testimonials = testimonialsData.testimonials.filter(t => t.featured);
const stats = testimonialsData.stats;

const additionalSchemas = [
  getOrganizationSchema(),
  getWebSiteSchema(),
  getPersonSchema()
];
---

<BaseLayout
  title={seo.title!}
  description={seo.description!}
  includeOrganization={true}
  includeWebsite={true}
  additionalSchemas={additionalSchemas}
>
  <Header />

  <main id="main-content" class="flex-grow">
    <!-- Hero Section -->
    <section class="section pt-32 md:pt-40">
      <div class="container-site">
        <div class="max-w-3xl mx-auto text-center scroll-animate">
          <h1 class="text-balance mb-6">
            <span class="text-gradient">AI Operations Consultant</span> for Travel Advisors & Small Teams
          </h1>
          <p class="text-xl text-gray-300 mb-8 text-balance">
            You didn't start your business to drown in spreadsheets, chase commission payments, or copy-paste the same emails over and over. I help travel advisors and small teams build operations systems that run while you sleep—whether you want me to build it for you, guide you through it, or DIY with my templates.
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="/shop/" class="btn btn-primary btn-lg">
              Get the Free Workflow Guide
            </a>
            <a href="/services/" class="btn btn-secondary btn-lg">
              See How I Can Help
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Problem/Solution Section -->
    <section class="section">
      <div class="container-site">
        <div class="max-w-3xl mx-auto scroll-animate">
          <h2 class="text-center mb-8">Sound familiar?</h2>
          <ul class="space-y-4 text-lg text-gray-300 mb-8">
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-accent-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span>You spend more time on admin than actually talking to clients</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-accent-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span>You're not 100% sure you're getting paid every commission you're owed</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-accent-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span>Your "system" is a mix of sticky notes, spreadsheets, and things you just remember</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-accent-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span>You know you should automate but don't know where to start</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-accent-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span>You've bought templates or courses before but couldn't make them work for your business</span>
            </li>
          </ul>
          <p class="text-lg text-gray-300 text-center">
            You're not bad at operations. You just don't have the <strong class="text-white">systems</strong> to make it easy.
            I build those systems for travel advisors and small service businesses—so you can stop reinventing the wheel and start scaling.
          </p>
          <div class="text-center mt-8">
            <a href="/services/" class="btn btn-ghost">
              See How I Can Help →
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Services Section -->
    <section class="section">
      <div class="container-site">
        <div class="text-center mb-12 scroll-animate">
          <h2 class="mb-4">Choose Your Path</h2>
          <p class="text-gray-400 max-w-2xl mx-auto">
            From full-service consulting to DIY templates—find the right fit for where you are right now.
          </p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 stagger-children">
          {services.map((service) => (
            <ServiceCard
              icon={service.icon}
              title={service.title}
              description={service.shortDescription}
              price={service.priceRange}
              href={service.href}
              bestFor={service.bestFor}
              timeline={service.timeline}
            />
          ))}
        </div>
      </div>
    </section>

    <!-- Social Proof Section -->
    <section class="section">
      <div class="container-site">
        <h2 class="text-center mb-12 scroll-animate">The Results</h2>

        <!-- Stats -->
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-8 mb-16 max-w-3xl mx-auto scroll-animate">
          {stats.map((stat) => (
            <div class="stat">
              <div class="stat-value">{stat.value}</div>
              <p class="stat-label text-sm">{stat.label}</p>
            </div>
          ))}
        </div>

        <!-- Featured Testimonial -->
        <div class="max-w-2xl mx-auto scroll-animate">
          {testimonials[0] && (
            <TestimonialCard
              quote={testimonials[0].quote}
              author={testimonials[0].author}
              company={testimonials[0].company}
              result={testimonials[0].result}
            />
          )}
        </div>
      </div>
    </section>

    <!-- About Teaser -->
    <section class="section">
      <div class="container-site">
        <div class="max-w-3xl mx-auto text-center scroll-animate">
          <h2 class="mb-6">Hey, I'm Kady.</h2>
          <p class="text-lg text-gray-300 mb-6">
            I spent years as a travel coordinator building the systems nobody else wanted to build—booking workflows, commission tracking, client communication sequences. The unglamorous stuff that makes agencies actually run.
          </p>
          <p class="text-lg text-gray-300 mb-6">
            Eventually I realized these systems were more valuable than any trip I could book. Now I work with a handful of travel advisors and small service businesses each month, helping them stop drowning in operations and start scaling.
          </p>
          <p class="text-lg text-gray-300 mb-8">
            Whether you want done-for-you implementation, strategic guidance, or proven templates to DIY—I've got you covered.
          </p>
          <a href="/about/" class="btn btn-ghost">
            More About Me →
          </a>
        </div>
      </div>
    </section>

    <!-- Lead Magnet Section -->
    <section class="section">
      <div class="container-site scroll-animate">
        <LeadMagnetCTA variant="card" />
      </div>
    </section>

    <!-- Community CTA -->
    <section class="section-sm cta-section">
      <div class="container-site text-center">
        <h2 class="text-white mb-4">Join 218+ Travel Agents in the Workflow Community</h2>
        <p class="text-white/90 mb-8 max-w-xl mx-auto">
          Free Facebook group with weekly tips, Q&As, and first access to new resources. No pitch fests—just practical workflow help.
        </p>
        <a href="https://www.facebook.com/groups/traveladvisoropscommunity" target="_blank" rel="noopener noreferrer" class="btn btn-white btn-lg font-semibold">
          Join Free →
        </a>
      </div>
    </section>
  </main>

  <Footer />
</BaseLayout>
